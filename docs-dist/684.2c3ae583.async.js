"use strict";(self.webpackChunkpowerful_hooks=self.webpackChunkpowerful_hooks||[]).push([[684],{61842:function(Ye,Y,h){h.r(Y),h.d(Y,{FetchProvider:function(){return Ce},useDebounceFn:function(){return Me},useDebounceState:function(){return ze},useDelete:function(){return He},useGet:function(){return De},useMemoState:function(){return de},useMerge:function(){return J},usePost:function(){return W},usePut:function(){return Ee},useSetState:function(){return ve},useThrottleFn:function(){return Ze},useThrottleState:function(){return We},useUpdate:function(){return Ge},useUrlQuery:function(){return we}});var ie=h(5574),C=h.n(ie),s=h(67294),ce=h(19632),H=h.n(ce),le=h(97857),$=h.n(le),fe=h(52677),x=h.n(fe),U=function(e){return e!==null&&x()(e)==="object"&&!Array.isArray(e)},E=function(e){return Array.isArray(e)},p=function(e){return typeof e=="function"},V=function(e){return typeof e=="string"},k=function(e){return typeof e=="boolean"},q=function(e){return typeof e=="number"},_=function(e){return typeof e=="undefined"};function ee(n,e){var t=!1;switch(!0){case U(n):t=U(e);break;case E(n):t=E(e);break;case p(n):t=p(e);break;case V(n):t=V(e);break;case k(n):t=k(e);break;case q(n):t=q(e);break;case _(n):t=_(e);break}return t}var te=function(e){return U(e)?"object":E(e)?"array":x()(e)};function ne(n,e){var t=$()({},n);for(var r in e)ee(t[r],e[r])?U(t[r])?t[r]=ne(t[r],e[r]):E(t[r])?t[r]=[].concat(H()(t[r]),H()(e[r])):t[r]=e[r]:t[r]=e[r];return t}function J(n,e){if(!ee(n,e)&&!p(n)&&!p(e))return n;var t,r=n,u=e;switch(p(n)&&(r=n()),p(e)&&(u=e()),!0){case U(r):t=ne(r,u);break;case E(r):t=[].concat(H()(r),H()(u));break;default:t=u;break}return t}function de(n){var e=(0,s.useRef)(n),t=e.current,r=(0,s.useState)(t),u=C()(r,2),l=u[0],i=u[1],v=(0,s.useRef)(function(o){i(o?J(t,o):t)}),f=v.current;return[l,i,f]}function ve(n){var e=(0,s.useRef)(n),t=e.current,r=(0,s.useRef)(te(n)),u=r.current,l=(0,s.useState)(t),i=C()(l,2),v=i[0],f=i[1],o=(0,s.useRef)(function(a){if(te(a)===u)switch(!0){case U(a):f(function(c){return Object.assign(Object.assign({},c),a)});break;case p(a):f(function(c){return Object.assign(Object.assign({},c),a(c))});break;default:f(a);break}else f(a)}),d=o.current,g=(0,s.useRef)(function(a){f(a?J(t,a):t)}),R=g.current;return[v,d,R]}var he=h(72004),ge=h.n(he),Re=h(12444),Se=h.n(Re),be=h(9783),A=h.n(be),z=h(45360),K=null,me=ge()(function n(){var e=this;if(Se()(this,n),A()(this,"successCode",0),A()(this,"statusHandler",{401:function(){z.ZP.error("\u767B\u5F55\u72B6\u6001\u5931\u6548\uFF0C\u8BF7\u91CD\u65B0\u767B\u5F55")}}),A()(this,"headers",{"web-type":1,"Content-Type":"application/json"}),A()(this,"responesField",{code:"code",data:"data",msg:"msg"}),A()(this,"changeStatusHandler",function(t){e.statusHandler=Object.assign(Object.assign({},e.statusHandler),t)}),A()(this,"changeSuccessCode",function(t){e.successCode=t}),A()(this,"changeHeaders",function(t){e.headers=Object.assign(Object.assign({},e.headers),t)}),A()(this,"changeResponesField",function(t){e.responesField=Object.assign(Object.assign({},e.responesField),t)}),K!=null)return K;K=this}),re=me,Fe=h(85893);function Te(n){var e=new re;return n.statusHandler&&e.changeStatusHandler(n.statusHandler),n.successCode&&e.changeSuccessCode(n.successCode),n.headers&&e.changeHeaders(n.headers),n.responesField&&e.changeResponesField(n.responesField),(0,Fe.jsx)("div",{children:n.children})}var Ce=Te,je=h(15009),ue=h.n(je),ye=h(99289),pe=h.n(ye),F=new re;function Oe(n,e,t){this[F.responesField.code]=n!==null?n:null,this[F.responesField.msg]=e!==null?e:null,this[F.responesField.data]=t!==null?t:null}var se=function(e,t){var r=null;if(typeof t=="function"&&(r=t.call(this,e)),r!==null)return r;switch(e[F.responesField.code]){case F.successCode:r=e;break;default:var u=!1;for(var l in F.statusHandler||{})if(Number(e[F.responesField.code])===Number(l)){var i=F.statusHandler[l](e);if(u=!0,i){r=i;break}}e.code>=400&&e.code<500&&!u&&z.ZP.error(e[F.responesField.msg]),e.code>500&&e.code<599&&!u&&z.ZP.error("\u7F51\u7EDC\u9519\u8BEF\uFF0C\u8BF7\u7A0D\u540E\u91CD\u8BD5\u3002\u9519\u8BEF\u4FE1\u606F\uFF1A".concat(e[F.responesField.msg]));break}return r},Ae=function(){var n=pe()(ue()().mark(function e(t){var r,u,l,i,v,f,o,d,g,R,a,c,O,j;return ue()().wrap(function(S){for(;;)switch(S.prev=S.next){case 0:if(r=t.url,u=t.options,l={},Object.entries(u.headers||{}).length)for(i in u.headers)p(u.headers[i])?l[i]=(v=(f=u.headers)[i])===null||v===void 0?void 0:v.call(f):l[i]=u.headers[i];if(o={},Object.entries(F.headers||{}).length)for(d in F.headers)p(F.headers[d])?o[d]=(g=(R=F.headers)[d])===null||g===void 0?void 0:g.call(R):o[d]=F.headers[d];return a=$()($()({},u),{},{headers:Object.assign(Object.assign({},o),l)}),S.prev=6,S.next=9,fetch(r,a);case 9:if(O=S.sent,!O.ok){S.next=17;break}return S.next=13,O.json();case 13:j=S.sent,c=se(j,a.handler),S.next=21;break;case 17:return S.next=19,O.text();case 19:j=S.sent,c=se(new Oe(O.status,j),a.handler);case 21:S.next=26;break;case 23:S.prev=23,S.t0=S.catch(6),console.log(S.t0);case 26:return a.handleResponens(c),S.abrupt("return",c);case 28:case"end":return S.stop()}},e,null,[[6,23]])}));return function(t){return n.apply(this,arguments)}}(),ae=Ae;function $e(n){var e="";if(n){e+="?";for(var t in n)n[t]!=null&&(e+=encodeURIComponent(t)+"="+encodeURIComponent(n[t])+"&")}return e=e.slice(0,e.length-1),e}function Pe(n){var e=(0,s.useState)(),t=C()(e,2),r=t[0],u=t[1],l=(0,s.useState)(!0),i=C()(l,2),v=i[1],f=function(){v(function(b){return!b})},o=(0,s.useState)(!1),d=C()(o,2),g=d[0],R=d[1],a=(0,s.useRef)(!1),c=(0,s.useRef)(function(T){u(T),R(!1),a.current=!1,f()}),O=c.current,j=(0,s.useRef)(),P=function(){var b=new AbortController,m=b.signal;return{signal:m,controller:b}},S=(0,s.useRef)(function(T){if(!a.current){var b=n.url,m=b===void 0?"":b,y=n.data,w=y===void 0?{}:y,L=n.headers,M=L===void 0?{}:L,N=n.handler;R(!0),a.current=!0,f();var Q=P(),Z=Q.signal,X=Q.controller;j.current=X,ae({url:m+$e(Object.assign(Object.assign({},w),T)),options:{headers:M,handler:N,handleResponens:O,method:"GET",credentials:"include",signal:Z}})}}),I=S.current,G=(0,s.useCallback)(function(){var T;(T=j.current)===null||T===void 0||T.abort()},[j.current]);return(0,s.useEffect)(function(){var T=n.manual,b=T===void 0?!1:T;return b||I(),function(){var m;(m=j.current)===null||m===void 0||m.abort()}},[]),{data:r,loading:g,run:I,abort:G}}var De=Pe,oe=h(96486);function Ue(n){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"POST",t=(0,s.useState)(),r=C()(t,2),u=r[0],l=r[1],i=(0,s.useState)(!0),v=C()(i,2),f=v[1],o=function(){f(function(m){return!m})},d=(0,s.useState)(!1),g=C()(d,2),R=g[0],a=g[1],c=(0,s.useRef)(!1),O=(0,s.useRef)(function(b){l(b),a(!1),c.current=!1,o()}),j=O.current,P=(0,s.useRef)(),S=function(){var m=new AbortController,y=m.signal;return{signal:y,controller:m}},I=(0,s.useRef)(function(b){if(!c.current){var m=n.url,y=m===void 0?"":m,w=n.data,L=w===void 0?{}:w,M=n.headers,N=M===void 0?{}:M,Q=n.handler;a(!0),c.current=!0,o();var Z=S(),X=Z.signal,Xe=Z.controller;P.current=Xe;var B={headers:N,handler:Q,handleResponens:j,method:e,credentials:"include",signal:X},D=Object.assign(Object.assign({},L),b);D&&Object.entries(D).length&&(D.isform?(B.body="",B.data=D,B.headers=$()($()({},N),{},{"Content-Type":"application/x-www-form-urlencoded;charset=UTF-8"})):(B.body=JSON.stringify(oe.has(D,"isform")?oe.omit(D,"isform"):D),B.headers=$()($()({},N),{},{"Content-Type":"application/json"}))),ae({url:y,options:B})}}),G=I.current,T=(0,s.useCallback)(function(){var b;(b=P.current)===null||b===void 0||b.abort()},[P.current]);return(0,s.useEffect)(function(){var b=n.manual,m=b===void 0?!1:b;return m||G(),function(){var y;(y=P.current)===null||y===void 0||y.abort()}},[]),{data:u,loading:R,run:G,abort:T}}var W=Ue;function Be(n){W(n,"PUT")}var Ee=Be;function Ne(n){W(n,"DELETE")}var He=Ne,Ie=function(){var e=(0,s.useState)(!1),t=C()(e,2),r=t[1],u=(0,s.useRef)(function(){r(function(i){return!i})}),l=u.current;return l},Ge=Ie;function we(n){var e=n||(window.location.hash?window.location.hash:window.location.search),t=new URLSearchParams(e),r=(0,s.useRef)(function(o){var d=new RegExp("(^|&)".concat(o,"=([^&]*)(&|$)"),"i"),g=e.substr(1).match(d);return g!=null?decodeURIComponent(g[2]):null}),u=r.current,l=(0,s.useRef)(function(o){if(!o)return null;var d=t.get(o);return d||u(o)}),i=l.current,v=(0,s.useRef)(function(){var o,d=((o=e.split("?"))===null||o===void 0||(o=o.pop())===null||o===void 0?void 0:o.split("&"))||[],g={};return d.forEach(function(R){var a=R.split("=");a.length===2&&(g[a[0]]=a[1])}),g}),f=v.current;return{get:i,getAll:f}}var Le=function(e,t,r){var u,l=t!=null?t:300,i=(0,s.useRef)(function(){clearTimeout(u),u=null}),v=i.current,f=(0,s.useRef)(function(){for(var R=arguments.length,a=new Array(R),c=0;c<R;c++)a[c]=arguments[c];v(),u=setTimeout(function(){e.apply(void 0,a),v()},l)}),o=f.current,d=(0,s.useRef)(function(){for(var R=arguments.length,a=new Array(R),c=0;c<R;c++)a[c]=arguments[c];v(),u?u=setTimeout(function(){e.apply(void 0,a),v()},l):(e.apply(void 0,a),u=setTimeout(v,l))}),g=d.current;return r?g:o},Me=Le,Qe=function(e,t,r){var u,l=t!=null?t:300,i=(0,s.useRef)(function(){clearTimeout(u),u=null}),v=i.current,f=(0,s.useRef)(function(){for(var R=arguments.length,a=new Array(R),c=0;c<R;c++)a[c]=arguments[c];u||(u=setTimeout(function(){e.apply(void 0,a),v()},l))}),o=f.current,d=(0,s.useRef)(function(){u||(e.apply(void 0,arguments),u=setTimeout(function(){v()},l))}),g=d.current;return r?g:o},Ze=Qe,Je=function(e,t){var r=(0,s.useState)(e),u=C()(r,2),l=u[0],i=u[1],v=t!=null?t:300,f,o=(0,s.useRef)(function(){clearTimeout(f)}),d=o.current,g=(0,s.useRef)(function(a){d(),f=setTimeout(function(){i(a),d()},v)}),R=g.current;return[l,R]},ze=Je,Ke=function(e,t){var r=(0,s.useState)(e),u=C()(r,2),l=u[0],i=u[1],v=t!=null?t:300,f=(0,s.useRef)(!1),o,d=(0,s.useRef)(function(){clearTimeout(o)}),g=d.current,R=(0,s.useRef)(function(c){f.current||(f.current=!0,o=setTimeout(function(){i(c),f.current=!1,g()},v))}),a=R.current;return[l,a]},We=Ke}}]);
