"use strict";(self.webpackChunkpowerful_hooks=self.webpackChunkpowerful_hooks||[]).push([[684],{61842:function(Ye,Y,R){R.r(Y),R.d(Y,{FetchProvider:function(){return Ce},useDebounceFn:function(){return Me},useDebounceState:function(){return ze},useDelete:function(){return Ie},useGet:function(){return De},useMemoState:function(){return de},useMerge:function(){return J},usePost:function(){return W},usePut:function(){return Ee},useSetState:function(){return ve},useThrottleFn:function(){return Ze},useThrottleState:function(){return We},useUpdate:function(){return Ge},useUrlQuery:function(){return we}});var ie=R(5574),j=R.n(ie),s=R(67294),ce=R(19632),I=R.n(ce),le=R(97857),P=R.n(le),fe=R(52677),x=R.n(fe),U=function(e){return e!==null&&x()(e)==="object"&&!Array.isArray(e)},E=function(e){return Array.isArray(e)},p=function(e){return typeof e=="function"},V=function(e){return typeof e=="string"},k=function(e){return typeof e=="boolean"},q=function(e){return typeof e=="number"},_=function(e){return typeof e=="undefined"};function ee(n,e){var t=!1;switch(!0){case U(n):t=U(e);break;case E(n):t=E(e);break;case p(n):t=p(e);break;case V(n):t=V(e);break;case k(n):t=k(e);break;case q(n):t=q(e);break;case _(n):t=_(e);break}return t}var te=function(e){return U(e)?"object":E(e)?"array":x()(e)};function ne(n,e){var t=P()({},n);for(var r in e)ee(t[r],e[r])?U(t[r])?t[r]=ne(t[r],e[r]):E(t[r])?t[r]=[].concat(I()(t[r]),I()(e[r])):t[r]=e[r]:t[r]=e[r];return t}function J(n,e){if(!ee(n,e)&&!p(n)&&!p(e))return n;var t,r=n,u=e;switch(p(n)&&(r=n()),p(e)&&(u=e()),!0){case U(r):t=ne(r,u);break;case E(r):t=[].concat(I()(r),I()(u));break;default:t=u;break}return t}function de(n){var e=(0,s.useRef)(n),t=e.current,r=(0,s.useState)(t),u=j()(r,2),d=u[0],c=u[1],f=(0,s.useRef)(function(o){c(o?J(t,o):t)}),l=f.current;return[d,c,l]}function ve(n){var e=(0,s.useRef)(n),t=e.current,r=(0,s.useRef)(te(n)),u=r.current,d=(0,s.useState)(t),c=j()(d,2),f=c[0],l=c[1],o=(0,s.useRef)(function(a){if(te(a)===u)switch(!0){case U(a):l(function(i){return Object.assign(Object.assign({},i),a)});break;case p(a):l(function(i){return Object.assign(Object.assign({},i),a(i))});break;default:l(a);break}else l(a)}),v=o.current,h=(0,s.useRef)(function(a){l(a?J(t,a):t)}),g=h.current;return[f,v,g]}var he=R(72004),ge=R.n(he),Re=R(12444),Se=R.n(Re),be=R(9783),A=R.n(be),z=R(45360),K=null,Fe=ge()(function n(){var e=this;if(Se()(this,n),A()(this,"successCode",0),A()(this,"statusHandler",{401:function(){z.ZP.error("\u767B\u5F55\u72B6\u6001\u5931\u6548\uFF0C\u8BF7\u91CD\u65B0\u767B\u5F55")}}),A()(this,"headers",{"web-type":1,"Content-Type":"application/json"}),A()(this,"responesField",{code:"code",data:"data",msg:"msg"}),A()(this,"changeStatusHandler",function(t){e.statusHandler=Object.assign(Object.assign({},e.statusHandler),t)}),A()(this,"changeSuccessCode",function(t){e.successCode=t}),A()(this,"changeHeaders",function(t){e.headers=Object.assign(Object.assign({},e.headers),t)}),A()(this,"changeResponesField",function(t){e.responesField=Object.assign(Object.assign({},e.responesField),t)}),K!=null)return K;K=this}),re=Fe,me=R(85893);function Te(n){var e=new re;return n.statusHandler&&e.changeStatusHandler(n.statusHandler),n.successCode&&e.changeSuccessCode(n.successCode),n.headers&&e.changeHeaders(n.headers),n.responesField&&e.changeResponesField(n.responesField),(0,me.jsx)("div",{children:n.children})}var Ce=Te,je=R(15009),ue=R.n(je),ye=R(99289),Oe=R.n(ye),m=new re;function pe(n,e,t){this[m.responesField.code]=n!=null?n:null,this[m.responesField.msg]=e!=null?e:null,this[m.responesField.data]=t!=null?t:null}var se=function(e,t){var r=null;if(typeof t=="function"&&(r=t.call(this,e)),r!=null)return r;switch(e[m.responesField.code]){case m.successCode:r=e;break;default:var u=!1;for(var d in m.statusHandler||{})if(e[m.responesField.code]==d){var c=m.statusHandler[d](e);if(u=!0,c){r=c;break}}e.code>=400&&e.code<500&&!u&&z.ZP.error(e[m.responesField.msg]),e.code>500&&e.code<599&&!u&&z.ZP.error("\u7F51\u7EDC\u9519\u8BEF\uFF0C\u8BF7\u7A0D\u540E\u91CD\u8BD5\u3002\u9519\u8BEF\u4FE1\u606F\uFF1A".concat(e[m.responesField.msg]));break}return r},Ae=function(){var n=Oe()(ue()().mark(function e(t){var r,u,d,c,f,l,o,v,h,g,a,i,$,C,y;return ue()().wrap(function(S){for(;;)switch(S.prev=S.next){case 0:if(r=t.url,u=t.options,d=t.data,c={},Object.entries(u.headers||{}).length)for(f in u.headers)p(u.headers[f])?c[f]=(l=(o=u.headers)[f])===null||l===void 0?void 0:l.call(o):c[f]=u.headers[f];if(v={},Object.entries(m.headers||{}).length)for(h in m.headers)p(m.headers[h])?v[h]=(g=(a=m.headers)[h])===null||g===void 0?void 0:g.call(a):v[h]=m.headers[h];return i=P()(P()({},u),{},{headers:Object.assign(Object.assign({},v),c)}),S.prev=6,S.next=9,fetch(r,i);case 9:if(C=S.sent,!C.ok){S.next=17;break}return S.next=13,C.json();case 13:y=S.sent,$=se(y,i.handler),S.next=21;break;case 17:return S.next=19,C.text();case 19:y=S.sent,$=se(new pe(C.status,y),i.handler);case 21:S.next=26;break;case 23:S.prev=23,S.t0=S.catch(6),console.log(S.t0);case 26:return i.handleResponens($),S.abrupt("return",$);case 28:case"end":return S.stop()}},e,null,[[6,23]])}));return function(t){return n.apply(this,arguments)}}(),ae=Ae;function $e(n){var e="";if(n){e+="?";for(var t in n)n[t]!=null&&(e+=encodeURIComponent(t)+"="+encodeURIComponent(n[t])+"&")}return e=e.slice(0,e.length-1),e}function Pe(n){var e=(0,s.useState)(),t=j()(e,2),r=t[0],u=t[1],d=(0,s.useState)(!0),c=j()(d,2),f=c[1],l=function(){f(function(b){return!b})},o=(0,s.useState)(!1),v=j()(o,2),h=v[0],g=v[1],a=(0,s.useRef)(!1),i=(0,s.useRef)(function(T){u(T),g(!1),a.current=!1,l()}),$=i.current,C=(0,s.useRef)(),y=function(){var b=new AbortController,F=b.signal;return{signal:F,controller:b}},N=(0,s.useRef)(function(T){if(!a.current){var b=n.url,F=b===void 0?"":b,O=n.data,w=O===void 0?{}:O,L=n.headers,M=L===void 0?{}:L,H=n.handler;g(!0),a.current=!0,l();var Q=y(),Z=Q.signal,X=Q.controller;C.current=X,ae({url:F+$e(Object.assign(Object.assign({},w),T)),options:{headers:M,handler:H,handleResponens:$,method:"GET",credentials:"include",signal:Z}})}}),S=N.current,G=(0,s.useCallback)(function(){var T;(T=C.current)===null||T===void 0||T.abort()},[C.current]);return(0,s.useEffect)(function(){var T=n.manual,b=T===void 0?!1:T;return b||S(),function(){var F;(F=C.current)===null||F===void 0||F.abort()}},[]),{data:r,loading:h,run:S,abort:G}}var De=Pe,oe=R(96486);function Ue(n){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"POST",t=(0,s.useState)(),r=j()(t,2),u=r[0],d=r[1],c=(0,s.useState)(!0),f=j()(c,2),l=f[1],o=function(){l(function(F){return!F})},v=(0,s.useState)(!1),h=j()(v,2),g=h[0],a=h[1],i=(0,s.useRef)(!1),$=(0,s.useRef)(function(b){d(b),a(!1),i.current=!1,o()}),C=$.current,y=(0,s.useRef)(),N=function(){var F=new AbortController,O=F.signal;return{signal:O,controller:F}},S=(0,s.useRef)(function(b){if(!i.current){var F=n.url,O=F===void 0?"":F,w=n.data,L=w===void 0?{}:w,M=n.headers,H=M===void 0?{}:M,Q=n.handler;a(!0),i.current=!0,o();var Z=N(),X=Z.signal,Xe=Z.controller;y.current=Xe;var B={headers:H,handler:Q,handleResponens:C,method:e,credentials:"include",signal:X},D=Object.assign(Object.assign({},L),b);D&&Object.entries(D).length&&(D.isform?(B.body="",B.data=D,B.headers=P()(P()({},H),{},{"Content-Type":"application/x-www-form-urlencoded;charset=UTF-8"})):(B.body=JSON.stringify(oe.has(D,"isform")?oe.omit(D,"isform"):D),B.headers=P()(P()({},H),{},{"Content-Type":"application/json"}))),ae({url:O,options:B})}}),G=S.current,T=(0,s.useCallback)(function(){var b;(b=y.current)===null||b===void 0||b.abort()},[y.current]);return(0,s.useEffect)(function(){var b=n.manual,F=b===void 0?!1:b;return F||G(),function(){var O;(O=y.current)===null||O===void 0||O.abort()}},[]),{data:u,loading:g,run:G,abort:T}}var W=Ue;function Be(n){W(n,"PUT")}var Ee=Be;function He(n){W(n,"DELETE")}var Ie=He,Ne=function(){var e=(0,s.useState)(!1),t=j()(e,2),r=t[1],u=(0,s.useRef)(function(){r(function(c){return!c})}),d=u.current;return d},Ge=Ne;function we(n){var e=n||(window.location.hash?window.location.hash:window.location.search),t=new URLSearchParams(e),r=(0,s.useRef)(function(o){var v=new RegExp("(^|&)".concat(o,"=([^&]*)(&|$)"),"i"),h=e.substr(1).match(v);return h!=null?decodeURIComponent(h[2]):null}),u=r.current,d=(0,s.useRef)(function(o){if(!o)return null;var v=t.get(o);return v||u(o)}),c=d.current,f=(0,s.useRef)(function(){var o,v=((o=e.split("?"))===null||o===void 0||(o=o.pop())===null||o===void 0?void 0:o.split("&"))||[],h={};return v.forEach(function(g){var a=g.split("=");a.length===2&&(h[a[0]]=a[1])}),h}),l=f.current;return{get:c,getAll:l}}var Le=function(e,t,r){var u,d=t!=null?t:300,c=(0,s.useRef)(function(){clearTimeout(u),u=0}),f=c.current,l=(0,s.useRef)(function(){for(var g=arguments.length,a=new Array(g),i=0;i<g;i++)a[i]=arguments[i];f(),u=setTimeout(function(){e.apply(void 0,a),f()},d)}),o=l.current,v=(0,s.useRef)(function(){for(var g=arguments.length,a=new Array(g),i=0;i<g;i++)a[i]=arguments[i];f(),u?u=setTimeout(function(){e.apply(void 0,a),f()},d):(e.apply(void 0,a),u=setTimeout(f,d))}),h=v.current;return r?h:o},Me=Le,Qe=function(e,t,r){var u,d=t!=null?t:300,c=(0,s.useRef)(function(){clearTimeout(u),u=0}),f=c.current,l=(0,s.useRef)(function(){for(var g=arguments.length,a=new Array(g),i=0;i<g;i++)a[i]=arguments[i];u||(u=setTimeout(function(){e.apply(void 0,a),f()},d))}),o=l.current,v=(0,s.useRef)(function(){u||(e.apply(void 0,arguments),u=setTimeout(function(){f()},d))}),h=v.current;return r?h:o},Ze=Qe,Je=function(e,t){var r=(0,s.useState)(e),u=j()(r,2),d=u[0],c=u[1],f=t!=null?t:300,l,o=(0,s.useRef)(function(){clearTimeout(l)}),v=o.current,h=(0,s.useRef)(function(a){v(),l=setTimeout(function(){c(a),v()},f)}),g=h.current;return[d,g]},ze=Je,Ke=function(e,t){var r=(0,s.useState)(e),u=j()(r,2),d=u[0],c=u[1],f=t!=null?t:300,l=(0,s.useRef)(!1),o,v=(0,s.useRef)(function(){clearTimeout(o)}),h=v.current,g=(0,s.useRef)(function(i){l.current||(l.current=!0,o=setTimeout(function(){c(i),l.current=!1,h()},f))}),a=g.current;return[d,a]},We=Ke}}]);
